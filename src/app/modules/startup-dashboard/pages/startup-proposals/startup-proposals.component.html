<shared-header></shared-header>

<div class="container my-5">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h1>Proposals Management</h1>
    <a routerLink="/challenges" class="btn btn-primary">Browse Challenges</a>
  </div>

  <table class="table table-striped">
    <thead>
    <tr>
      <th>Company</th>
      <th>Challenge</th>
      <th>Title</th>
      <th>Description</th>
      <th>Status</th>
      <th>Actions</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let proposal of proposals">
      <td>{{ proposal.challenge?.companyName || 'No company' }}</td>
      <td>{{ proposal.challenge?.title || 'No title' }}</td>
      <td>{{ proposal.title || 'No description' }}</td>
      <td>{{ proposal.status || 'No status' }}</td>
      <td>
        <button
          *ngIf="proposal.status === 'PENDING'"
          class="btn btn-warning me-2"
          (click)="editProposal(proposal.id)">
          Edit
        </button>
        <button class="btn btn-danger" (click)="deleteProposal(proposal.id)">
          Delete
        </button>
      </td>
    </tr>
    </tbody>
  </table>
</div>

<shared-footer></shared-footer>
